<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Hi3HelperGUI"
        xmlns:Json="clr-namespace:Newtonsoft.Json;assembly=Newtonsoft.Json" x:Class="Hi3HelperGUI.MainWindow"
        mc:Ignorable="d"
        Title="Hi3Helper" Height="528" Width="800" MinWidth="800" MinHeight="480" ResizeMode="CanMinimize">
    <DockPanel>
        <StatusBar VerticalAlignment="Bottom" DockPanel.Dock="Bottom" >
            <StatusBarItem>
                <Label Content="Mirror:"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Stretch">
                <Label x:Name="MirrorSelectorStatus" Content="none" Margin="-10,0,0,0"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <DockPanel HorizontalAlignment="Right">
                    <Label x:Name="TotalProgressBarLabel" Content="{Binding Value, ElementName=TotalProgressBar, StringFormat=\{\}\{0:00\}%}" DockPanel.Dock="Left" FontWeight="Bold" Margin="0,0,-10,0" />
                    <Label x:Name="TotalProgressBarPercentSign" Content="%" DockPanel.Dock="Left" FontWeight="Bold" />
                    <ProgressBar x:Name="TotalProgressBar" Width="247" Height="20" DockPanel.Dock="Right"/>
                </DockPanel>
            </StatusBarItem>
        </StatusBar>
        <TabControl DockPanel.Dock="Top">
            <TabItem Header="About">
                <DockPanel LastChildFill="False" Margin="0,0,0,5">
                    <Grid x:Name="Version_Name" DockPanel.Dock="Bottom" Height="25" HorizontalAlignment="Stretch" Margin="5,0,5,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="102"/>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="159"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Installed Version:" HorizontalAlignment="Center" Width="98"/>
                        <Label x:Name="InstalledClientLabel" Content="No Client Installed!" Grid.Column="1" HorizontalAlignment="Left" Margin="-5,0,0,0" FontWeight="Bold"/>
                        <Label Content="Mirror:" HorizontalAlignment="Left" Grid.Column="4" Width="46"/>
                        <ComboBox Width="112" IsReadOnly="True" x:Name="MirrorSelector" SelectedIndex="1" Grid.Column="4" HorizontalAlignment="Right" Margin="33,0,0,0" SelectionChanged="SetMirrorChange">
                            <ComboBoxItem Content="miHoYo" x:Name="MirrorSelectormiHoYo"/>
                            <ComboBoxItem Content="Hi3Mirror SEA" x:Name="MirrorSelectorHi3Mirror" IsSelected="True"/>
                        </ComboBox>
                    </Grid>
                    <TextBlock TextWrapping="Wrap" DockPanel.Dock="Top" FontSize="24" Margin="10,5,10,0"><Run Text="Welcome to "/><Run Text="Hi3Helper" FontWeight="Bold"/></TextBlock>
                    <TextBlock TextWrapping="Wrap" Text="an Universal utility for Honkai Impact 3" DockPanel.Dock="Top" Margin="10,0,10,0" FontSize="14" FontWeight="Bold"/>
                    <TextBlock TextWrapping="Wrap" DockPanel.Dock="Top" Margin="10,20,10,0" FontSize="14"><Run Text="Hi3Helper is an utility which provides you to:"/><LineBreak/><Run/><LineBreak/><Run Text="1. Update Daily Contents (Updating Settings) without opening the game."/><LineBreak/><Run Text="2. Repair corrupted game files without redownloading/reinstalling the whole game files"/><Run Text=" (Feature Not Implemented yet)" FontWeight="Bold"/><LineBreak/><Run Text="3. Fix some subtitle issues"/><Run Text=" (Feature Not Implemented yet)" FontWeight="Bold"/><LineBreak/><Run Text="4. Tweak some game settings like custom resolution, some registry values, etc"/><Run Text=" (Feature Not Implemented yet)" FontWeight="Bold"/><LineBreak/><Run Text="5. Using Hi3Mirror as Updating Server"/><Run Text=" (Feature Not Implemented yet)" FontWeight="Bold"/><LineBreak/><LineBreak/><Run Text="For using this, Make sure that you have already installed the game (whether it's Global or Southeast Asia Server version). If you have both, make sure that you already chosen the right version you want to tweak on the Selection Box below."/><LineBreak/><Run/><LineBreak/><Run Text="For giving a bug report or feature request, please open an issue on this project GitHub "/><Hyperlink NavigateUri="https://github.com/neon-nyan/Hi3Helper" TextDecorations="Underline"><Run Text="here!"/></Hyperlink></TextBlock>
                    <TextBlock TextWrapping="Wrap" DockPanel.Dock="Top" Margin="10,0,10,0" FontSize="14"><Run Text="Also, Check out the BetterHi3Launcher project by BuIlDaLiBlE "/><Hyperlink NavigateUri="https://github.com/BuIlDaLiBlE/BetterHI3Launcher"><Run Text="here!"/></Hyperlink></TextBlock>
                </DockPanel>
            </TabItem>
            <TabItem x:Name="UpdateSection" Header="Daily Update">
                <DockPanel LastChildFill="False" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Grid DockPanel.Dock="Bottom" Height="25" HorizontalAlignment="Stretch" Margin="5,0,5,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="477"/>
                            <ColumnDefinition Width="28"/>
                            <ColumnDefinition Width="110"/>
                            <ColumnDefinition Width="91"/>
                        </Grid.ColumnDefinitions>
                        <Button x:Name="UpdateCheckBtn" Content="Check Update" Grid.Column="3" HorizontalAlignment="Center" Width="110" Click="UpdateCheckStart"/>
                        <Button x:Name="UpdateDownloadBtn" Content="Download" Grid.Column="4" HorizontalAlignment="Left" Width="82" IsEnabled="False" Click="UpdateDownloadStart" Margin="9,0,0,0"/>
                        <Button x:Name="UpdateCancelBtn" Content="Cancel Download" Grid.Column="3" HorizontalAlignment="Center" Width="110"  Click="UpdateDownloadCancel" Visibility="Collapsed"/>
                        <Label Content="Progress:" HorizontalAlignment="Left" FontWeight="Normal" Grid.Column="0" FontSize="10" Width="50"/>
                        <Label x:Name="UpdateProgressLabel" Content="none" HorizontalAlignment="Left" FontWeight="Bold" FontSize="10" Grid.Column="1" Margin="-16,0,0,0"/>
                    </Grid>
                    <Grid DockPanel.Dock="Bottom" HorizontalAlignment="Stretch" Margin="5,0,5,-7">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="229"/>
                        </Grid.ColumnDefinitions>
                        <Label x:Name="UpdateCheckStatus" Content="Please click Check Update to find what's new files available" HorizontalAlignment="Left" Margin="0,0,0,0" FontWeight="Bold" VerticalAlignment="Center" Grid.Column="0"/>
                    </Grid>
                    <Grid DockPanel.Dock="Bottom" HorizontalAlignment="Left" Margin="5,0,5,-7">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Status:" HorizontalAlignment="Center" Width="45" VerticalAlignment="Center"/>
                    </Grid>
                    <ListView x:Name="UpdateListView" DockPanel.Dock="Top" Height="354" IsSynchronizedWithCurrentItem="False" IsEnabled="False">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Filename" DisplayMemberBinding="{Binding N}" Width="362"/>
                                <GridViewColumn Header="Zone" DisplayMemberBinding="{Binding ZoneName}" Width="56"/>
                                <GridViewColumn Header="Data Type" DisplayMemberBinding="{Binding DataType}" Width="64"/>
                                <GridViewColumn Header="Size" DisplayMemberBinding="{Binding HumanizeSize}" Width="72"/>
                                <GridViewColumn Header="Download Status" DisplayMemberBinding="{Binding DownloadStatus}" Width="190"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </DockPanel>
            </TabItem>
            <TabItem x:Name="BlockSection" Header="Block Check" IsEnabled="False">
                <DockPanel LastChildFill="False" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Grid DockPanel.Dock="Bottom" Height="25" HorizontalAlignment="Stretch" Margin="5,0,5,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="477"/>
                            <ColumnDefinition Width="28"/>
                            <ColumnDefinition Width="110"/>
                            <ColumnDefinition Width="91"/>
                        </Grid.ColumnDefinitions>
                        <Button x:Name="BlockCheckBtn" Content="Check Blocks" Grid.Column="3" HorizontalAlignment="Center" Width="110" Click="BlockCheckStart"/>
                        <Button x:Name="BlockRepairBtn" Content="Repair" Grid.Column="4" HorizontalAlignment="Left" Width="82" IsEnabled="False" Click="UpdateDownloadStart" Margin="9,0,0,0"/>
                        <Button x:Name="BlockRepairCancelBtn" Content="Cancel Repair" Grid.Column="3" HorizontalAlignment="Center" Width="110"  Click="UpdateDownloadCancel" Visibility="Collapsed"/>
                        <Label Content="Progress:" HorizontalAlignment="Left" FontWeight="Normal" Grid.Column="0" FontSize="10" Width="50"/>
                        <Label x:Name="BlockRepairProgressLabel" Content="none" HorizontalAlignment="Left" FontWeight="Bold" FontSize="10" Grid.Column="1" Margin="-16,0,0,0"/>
                    </Grid>
                    <Grid DockPanel.Dock="Bottom" HorizontalAlignment="Stretch" Margin="5,0,5,-7">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="229"/>
                        </Grid.ColumnDefinitions>
                        <Label x:Name="BlockCheckStatus" Content="Please click Check Blocks to start checking the block files." HorizontalAlignment="Left" Margin="0,0,0,0" FontWeight="Bold" VerticalAlignment="Center" Grid.Column="0"/>
                    </Grid>
                    <Grid DockPanel.Dock="Bottom" HorizontalAlignment="Left" Margin="5,0,5,-7">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Status:" HorizontalAlignment="Center" Width="45" VerticalAlignment="Center"/>
                    </Grid>
                </DockPanel>
            </TabItem>
            <TabItem x:Name="CutsceneSection" Header="Video &amp; Subtitles" IsEnabled="False">
                <Grid Background="#FFE5E5E5"/>
            </TabItem>
            <TabItem x:Name="SettingsSection" Header="Settings Editor">
                <DockPanel LastChildFill="False" Margin="5">
                    <DockPanel VerticalAlignment="Top" HorizontalAlignment="Left" DockPanel.Dock="Top">
                        <Label Content="Debug Settings:" DockPanel.Dock="Left"/>
                        <CheckBox x:Name="ConfigEnableConsole"  Content="Enable Console" VerticalAlignment="Center" IsChecked="True"/>
                    </DockPanel>

                    <DockPanel VerticalAlignment="Bottom" DockPanel.Dock="Bottom">
                        <Grid Height="26">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="104"/>
                            </Grid.ColumnDefinitions>
                            <Button Content="Apply Settings" Grid.Column="1" Click="ApplySettings"/>
                            <Label Content="Version:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                            <ComboBox Width="150" HorizontalAlignment="Left" Margin="56,0,0,0">
                                <ComboBoxItem Content="not implemented yet" IsSelected="True"/>
                            </ComboBox>
                        </Grid>
                    </DockPanel>
                </DockPanel>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>
